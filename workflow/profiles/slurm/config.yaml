cluster: "sbatch --account={cluster.account} \
                 --partition={cluster.partition} \
                 --time={resources.runtime} \
                 --cpus-per-task={threads} \
                 --mem={resources.mem_mb} \
                 --output={cluster.output} \
                 --error={cluster.error}"

default-resources:
  - mem_mb=4000
  - runtime=2
  - disk_mb=2000
  - threads=1

jobs: 100  # Tuned for typical HPC cluster capacity (adjust based on your cluster)
keep-going: True
rerun-incomplete: True
latency-wait: 10  # wait 10 seconds for files 
use-envmodules: False
use-conda: False

# make Snakemake load venv automatically
precommand: "source ~/envs/gsa/load_env.sh"
